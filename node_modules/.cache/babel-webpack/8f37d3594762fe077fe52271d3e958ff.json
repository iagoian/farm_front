{"ast":null,"code":"import _inherits from \"C:/dev-faculdade/Portifolio/Testes-Job/farm_project/farm_front/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"C:/dev-faculdade/Portifolio/Testes-Job/farm_project/farm_front/node_modules/@babel/runtime/helpers/esm/createSuper\";\nimport _classCallCheck from \"C:/dev-faculdade/Portifolio/Testes-Job/farm_project/farm_front/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:/dev-faculdade/Portifolio/Testes-Job/farm_project/farm_front/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport { isArray } from '../util/isArray';\nimport { fromArray } from './fromArray';\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\nexport function race() {\n  for (var _len = arguments.length, observables = new Array(_len), _key = 0; _key < _len; _key++) {\n    observables[_key] = arguments[_key];\n  }\n  if (observables.length === 1) {\n    if (isArray(observables[0])) {\n      observables = observables[0];\n    } else {\n      return observables[0];\n    }\n  }\n  return fromArray(observables, undefined).lift(new RaceOperator());\n}\nexport var RaceOperator = /*#__PURE__*/function () {\n  function RaceOperator() {\n    _classCallCheck(this, RaceOperator);\n  }\n  _createClass(RaceOperator, [{\n    key: \"call\",\n    value: function call(subscriber, source) {\n      return source.subscribe(new RaceSubscriber(subscriber));\n    }\n  }]);\n  return RaceOperator;\n}();\nexport var RaceSubscriber = /*#__PURE__*/function (_OuterSubscriber) {\n  _inherits(RaceSubscriber, _OuterSubscriber);\n  var _super = _createSuper(RaceSubscriber);\n  function RaceSubscriber(destination) {\n    var _this;\n    _classCallCheck(this, RaceSubscriber);\n    _this = _super.call(this, destination);\n    _this.hasFirst = false;\n    _this.observables = [];\n    _this.subscriptions = [];\n    return _this;\n  }\n  _createClass(RaceSubscriber, [{\n    key: \"_next\",\n    value: function _next(observable) {\n      this.observables.push(observable);\n    }\n  }, {\n    key: \"_complete\",\n    value: function _complete() {\n      var observables = this.observables;\n      var len = observables.length;\n      if (len === 0) {\n        this.destination.complete();\n      } else {\n        for (var i = 0; i < len && !this.hasFirst; i++) {\n          var observable = observables[i];\n          var subscription = subscribeToResult(this, observable, undefined, i);\n          if (this.subscriptions) {\n            this.subscriptions.push(subscription);\n          }\n          this.add(subscription);\n        }\n        this.observables = null;\n      }\n    }\n  }, {\n    key: \"notifyNext\",\n    value: function notifyNext(_outerValue, innerValue, outerIndex) {\n      if (!this.hasFirst) {\n        this.hasFirst = true;\n        for (var i = 0; i < this.subscriptions.length; i++) {\n          if (i !== outerIndex) {\n            var subscription = this.subscriptions[i];\n            subscription.unsubscribe();\n            this.remove(subscription);\n          }\n        }\n        this.subscriptions = null;\n      }\n      this.destination.next(innerValue);\n    }\n  }]);\n  return RaceSubscriber;\n}(OuterSubscriber);","map":{"version":3,"sources":["../../../src/internal/observable/race.ts"],"names":[],"mappings":";;;;AACA,SAAS,OAAO,QAAQ,iBAAiB;AACzC,SAAS,SAAS,QAAQ,aAAa;AAKvC,SAAS,eAAe,QAAQ,oBAAoB;AAEpD,SAAS,iBAAiB,QAAQ,2BAA2B;AAoD7D,OAAM,SAAU,IAAI,GAA0C;EAAA,kCAAnC,WAAmC;IAAnC,WAAmC;EAAA;EAG5D,IAAI,WAAW,CAAC,MAAM,KAAK,CAAC,EAAE;IAC5B,IAAI,OAAO,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,EAAE;MAC3B,WAAW,GAAG,WAAW,CAAC,CAAC,CAAsB;KAClD,MAAM;MACL,OAAO,WAAW,CAAC,CAAC,CAAkB;IACvC;EACF;EAED,OAAO,SAAS,CAAC,WAAW,EAAE,SAAS,CAAC,CAAC,IAAI,CAAC,IAAI,YAAY,EAAK,CAAC;AACtE;AAEA,WAAa,YAAY;EAAA;IAAA;EAAA;EAAA;IAAA;IAAA,OACvB,cAAK,UAAyB,EAAE,MAAW,EAAA;MACzC,OAAO,MAAM,CAAC,SAAS,CAAC,IAAI,cAAc,CAAC,UAAU,CAAC,CAAC;IACzD;EAAC;EAAA;AAAA;AAQH,WAAa,cAAkB;EAAA;EAAA;EAK7B,wBAAY,WAA0B,EAAA;IAAA;IAAA;IACpC,0BAAM,WAAW;IALX,MAAA,QAAQ,GAAY,KAAK;IACzB,MAAA,WAAW,GAAsB,EAAE;IACnC,MAAA,aAAa,GAAmB,EAAE;IAAC;EAI3C;EAAC;IAAA;IAAA,OAES,eAAM,UAAe,EAAA;MAC7B,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,UAAU,CAAC;IACnC;EAAC;IAAA;IAAA,OAES,qBAAS;MACjB,IAAM,WAAW,GAAG,IAAI,CAAC,WAAW;MACpC,IAAM,GAAG,GAAG,WAAW,CAAC,MAAM;MAE9B,IAAI,GAAG,KAAK,CAAC,EAAE;QACb,IAAI,CAAC,WAAW,CAAC,QAAS,EAAE;OAC7B,MAAM;QACL,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC,EAAE,EAAE;UAC9C,IAAM,UAAU,GAAG,WAAW,CAAC,CAAC,CAAC;UACjC,IAAM,YAAY,GAAG,iBAAiB,CAAC,IAAI,EAAE,UAAU,EAAE,SAAS,EAAE,CAAC,CAAE;UAEvE,IAAI,IAAI,CAAC,aAAa,EAAE;YACtB,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,YAAY,CAAC;UACtC;UACD,IAAI,CAAC,GAAG,CAAC,YAAY,CAAC;QACvB;QACD,IAAI,CAAC,WAAW,GAAG,IAAK;MACzB;IACH;EAAC;IAAA;IAAA,OAED,oBAAW,WAAc,EAAE,UAAa,EAC7B,UAAkB,EAAA;MAC3B,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE;QAClB,IAAI,CAAC,QAAQ,GAAG,IAAI;QAEpB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,aAAa,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;UAClD,IAAI,CAAC,KAAK,UAAU,EAAE;YACpB,IAAI,YAAY,GAAG,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC;YAExC,YAAY,CAAC,WAAW,EAAE;YAC1B,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC;UAC1B;QACF;QAED,IAAI,CAAC,aAAa,GAAG,IAAK;MAC3B;MAED,IAAI,CAAC,WAAW,CAAC,IAAK,CAAC,UAAU,CAAC;IACpC;EAAC;EAAA;AAAA,EAnDoC,eAAqB","sourcesContent":["import { isArray } from '../util/isArray';\nimport { fromArray } from './fromArray';\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\nexport function race(...observables) {\n    if (observables.length === 1) {\n        if (isArray(observables[0])) {\n            observables = observables[0];\n        }\n        else {\n            return observables[0];\n        }\n    }\n    return fromArray(observables, undefined).lift(new RaceOperator());\n}\nexport class RaceOperator {\n    call(subscriber, source) {\n        return source.subscribe(new RaceSubscriber(subscriber));\n    }\n}\nexport class RaceSubscriber extends OuterSubscriber {\n    constructor(destination) {\n        super(destination);\n        this.hasFirst = false;\n        this.observables = [];\n        this.subscriptions = [];\n    }\n    _next(observable) {\n        this.observables.push(observable);\n    }\n    _complete() {\n        const observables = this.observables;\n        const len = observables.length;\n        if (len === 0) {\n            this.destination.complete();\n        }\n        else {\n            for (let i = 0; i < len && !this.hasFirst; i++) {\n                const observable = observables[i];\n                const subscription = subscribeToResult(this, observable, undefined, i);\n                if (this.subscriptions) {\n                    this.subscriptions.push(subscription);\n                }\n                this.add(subscription);\n            }\n            this.observables = null;\n        }\n    }\n    notifyNext(_outerValue, innerValue, outerIndex) {\n        if (!this.hasFirst) {\n            this.hasFirst = true;\n            for (let i = 0; i < this.subscriptions.length; i++) {\n                if (i !== outerIndex) {\n                    let subscription = this.subscriptions[i];\n                    subscription.unsubscribe();\n                    this.remove(subscription);\n                }\n            }\n            this.subscriptions = null;\n        }\n        this.destination.next(innerValue);\n    }\n}\n//# sourceMappingURL=race.js.map"]},"metadata":{},"sourceType":"module"}