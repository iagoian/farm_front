{"ast":null,"code":"import _get from \"C:/dev-faculdade/Portifolio/Testes-Job/farm_project/farm_front/node_modules/@babel/runtime/helpers/esm/get\";\nimport _getPrototypeOf from \"C:/dev-faculdade/Portifolio/Testes-Job/farm_project/farm_front/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:/dev-faculdade/Portifolio/Testes-Job/farm_project/farm_front/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"C:/dev-faculdade/Portifolio/Testes-Job/farm_project/farm_front/node_modules/@babel/runtime/helpers/esm/createSuper\";\nimport _classCallCheck from \"C:/dev-faculdade/Portifolio/Testes-Job/farm_project/farm_front/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:/dev-faculdade/Portifolio/Testes-Job/farm_project/farm_front/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport { async } from '../scheduler/async';\nimport { isDate } from '../util/isDate';\nimport { SimpleOuterSubscriber, innerSubscribe, SimpleInnerSubscriber } from '../innerSubscribe';\nexport function timeoutWith(due, withObservable) {\n  var scheduler = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : async;\n  return function (source) {\n    var absoluteTimeout = isDate(due);\n    var waitFor = absoluteTimeout ? +due - scheduler.now() : Math.abs(due);\n    return source.lift(new TimeoutWithOperator(waitFor, absoluteTimeout, withObservable, scheduler));\n  };\n}\nvar TimeoutWithOperator = /*#__PURE__*/function () {\n  function TimeoutWithOperator(waitFor, absoluteTimeout, withObservable, scheduler) {\n    _classCallCheck(this, TimeoutWithOperator);\n    this.waitFor = waitFor;\n    this.absoluteTimeout = absoluteTimeout;\n    this.withObservable = withObservable;\n    this.scheduler = scheduler;\n  }\n  _createClass(TimeoutWithOperator, [{\n    key: \"call\",\n    value: function call(subscriber, source) {\n      return source.subscribe(new TimeoutWithSubscriber(subscriber, this.absoluteTimeout, this.waitFor, this.withObservable, this.scheduler));\n    }\n  }]);\n  return TimeoutWithOperator;\n}();\nvar TimeoutWithSubscriber = /*#__PURE__*/function (_SimpleOuterSubscribe) {\n  _inherits(TimeoutWithSubscriber, _SimpleOuterSubscribe);\n  var _super = _createSuper(TimeoutWithSubscriber);\n  function TimeoutWithSubscriber(destination, absoluteTimeout, waitFor, withObservable, scheduler) {\n    var _this;\n    _classCallCheck(this, TimeoutWithSubscriber);\n    _this = _super.call(this, destination);\n    _this.absoluteTimeout = absoluteTimeout;\n    _this.waitFor = waitFor;\n    _this.withObservable = withObservable;\n    _this.scheduler = scheduler;\n    _this.scheduleTimeout();\n    return _this;\n  }\n  _createClass(TimeoutWithSubscriber, [{\n    key: \"scheduleTimeout\",\n    value: function scheduleTimeout() {\n      var action = this.action;\n      if (action) {\n        this.action = action.schedule(this, this.waitFor);\n      } else {\n        this.add(this.action = this.scheduler.schedule(TimeoutWithSubscriber.dispatchTimeout, this.waitFor, this));\n      }\n    }\n  }, {\n    key: \"_next\",\n    value: function _next(value) {\n      if (!this.absoluteTimeout) {\n        this.scheduleTimeout();\n      }\n      _get(_getPrototypeOf(TimeoutWithSubscriber.prototype), \"_next\", this).call(this, value);\n    }\n  }, {\n    key: \"_unsubscribe\",\n    value: function _unsubscribe() {\n      this.action = undefined;\n      this.scheduler = null;\n      this.withObservable = null;\n    }\n  }], [{\n    key: \"dispatchTimeout\",\n    value: function dispatchTimeout(subscriber) {\n      var withObservable = subscriber.withObservable;\n      subscriber._unsubscribeAndRecycle();\n      subscriber.add(innerSubscribe(withObservable, new SimpleInnerSubscriber(subscriber)));\n    }\n  }]);\n  return TimeoutWithSubscriber;\n}(SimpleOuterSubscriber);","map":{"version":3,"sources":["../../../src/internal/operators/timeoutWith.ts"],"names":[],"mappings":";;;;;;AAEA,SAAS,KAAK,QAAQ,oBAAoB;AAE1C,SAAS,MAAM,QAAQ,gBAAgB;AAEvC,SAAS,qBAAqB,EAAE,cAAc,EAAE,qBAAqB,QAAQ,mBAAmB;AA2DhG,OAAM,SAAU,WAAW,CAAO,GAAkB,EAClB,cAAkC,EACF;EAAA,IAAhC,SAAA,uEAA2B,KAAK;EAChE,OAAO,UAAC,MAAqB,EAAI;IAC/B,IAAI,eAAe,GAAG,MAAM,CAAC,GAAG,CAAC;IACjC,IAAI,OAAO,GAAG,eAAe,GAAI,CAAC,GAAG,GAAG,SAAS,CAAC,GAAG,EAAE,GAAI,IAAI,CAAC,GAAG,CAAS,GAAG,CAAC;IAChF,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,mBAAmB,CAAC,OAAO,EAAE,eAAe,EAAE,cAAc,EAAE,SAAS,CAAC,CAAC;EAClG,CAAC;AACH;AAAC,IAEK,mBAAmB;EACvB,6BAAoB,OAAe,EACf,eAAwB,EACxB,cAAoC,EACpC,SAAwB,EAAA;IAAA;IAHxB,IAAA,CAAA,OAAO,GAAP,OAAO;IACP,IAAA,CAAA,eAAe,GAAf,eAAe;IACf,IAAA,CAAA,cAAc,GAAd,cAAc;IACd,IAAA,CAAA,SAAS,GAAT,SAAS;EAC7B;EAAC;IAAA;IAAA,OAED,cAAK,UAAyB,EAAE,MAAW,EAAA;MACzC,OAAO,MAAM,CAAC,SAAS,CAAC,IAAI,qBAAqB,CAC/C,UAAU,EAAE,IAAI,CAAC,eAAe,EAAE,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,cAAc,EAAE,IAAI,CAAC,SAAS,CACpF,CAAC;IACJ;EAAC;EAAA;AAAA;AAAA,IAQG,qBAA4B;EAAA;EAAA;EAIhC,+BAAY,WAA0B,EAClB,eAAwB,EACxB,OAAe,EACf,cAAoC,EACpC,SAAwB,EAAA;IAAA;IAAA;IAC1C,0BAAM,WAAW;IAJC,MAAA,eAAe,GAAf,eAAe;IACf,MAAA,OAAO,GAAP,OAAO;IACP,MAAA,cAAc,GAAd,cAAc;IACd,MAAA,SAAS,GAAT,SAAS;IAE3B,MAAK,eAAe,EAAE;IAAC;EACzB;EAAC;IAAA;IAAA,OAQO,2BAAe;MACrB,IAAQ,MAAM,GAAK,IAAI,CAAf,MAAM;MACd,IAAI,MAAM,EAAE;QAMV,IAAI,CAAC,MAAM,GAAmD,MAAM,CAAC,QAAQ,CAAC,IAAI,EAAE,IAAI,CAAC,OAAO,CAAE;OACnG,MAAM;QACL,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,GAAmD,IAAI,CAAC,SAAS,CAAC,QAAQ,CAC5F,qBAAqB,CAAC,eAAsB,EAAE,IAAI,CAAC,OAAO,EAAE,IAAI,CAChE,CAAC;MACJ;IACH;EAAC;IAAA;IAAA,OAES,eAAM,KAAQ,EAAA;MACtB,IAAI,CAAC,IAAI,CAAC,eAAe,EAAE;QACzB,IAAI,CAAC,eAAe,EAAE;MACvB;MACD,iFAAY,KAAK;IACnB;EAAC;IAAA;IAAA,OAGD,wBAAY;MACV,IAAI,CAAC,MAAM,GAAG,SAAS;MACvB,IAAI,CAAC,SAAS,GAAG,IAAK;MACtB,IAAI,CAAC,cAAc,GAAG,IAAK;IAC7B;EAAC;IAAA;IAAA,OAlCO,yBAA6B,UAAuC,EAAA;MAC1E,IAAQ,cAAc,GAAK,UAAU,CAA7B,cAAc;MACtB,UAAU,CAAC,sBAAsB,EAAE;MACnC,UAAU,CAAC,GAAG,CAAC,cAAc,CAAC,cAAc,EAAE,IAAI,qBAAqB,CAAC,UAAU,CAAC,CAAC,CAAC;IACvF;EAAC;EAAA;AAAA,EAjBuC,qBAA2B","sourcesContent":["import { async } from '../scheduler/async';\nimport { isDate } from '../util/isDate';\nimport { SimpleOuterSubscriber, innerSubscribe, SimpleInnerSubscriber } from '../innerSubscribe';\nexport function timeoutWith(due, withObservable, scheduler = async) {\n    return (source) => {\n        let absoluteTimeout = isDate(due);\n        let waitFor = absoluteTimeout ? (+due - scheduler.now()) : Math.abs(due);\n        return source.lift(new TimeoutWithOperator(waitFor, absoluteTimeout, withObservable, scheduler));\n    };\n}\nclass TimeoutWithOperator {\n    constructor(waitFor, absoluteTimeout, withObservable, scheduler) {\n        this.waitFor = waitFor;\n        this.absoluteTimeout = absoluteTimeout;\n        this.withObservable = withObservable;\n        this.scheduler = scheduler;\n    }\n    call(subscriber, source) {\n        return source.subscribe(new TimeoutWithSubscriber(subscriber, this.absoluteTimeout, this.waitFor, this.withObservable, this.scheduler));\n    }\n}\nclass TimeoutWithSubscriber extends SimpleOuterSubscriber {\n    constructor(destination, absoluteTimeout, waitFor, withObservable, scheduler) {\n        super(destination);\n        this.absoluteTimeout = absoluteTimeout;\n        this.waitFor = waitFor;\n        this.withObservable = withObservable;\n        this.scheduler = scheduler;\n        this.scheduleTimeout();\n    }\n    static dispatchTimeout(subscriber) {\n        const { withObservable } = subscriber;\n        subscriber._unsubscribeAndRecycle();\n        subscriber.add(innerSubscribe(withObservable, new SimpleInnerSubscriber(subscriber)));\n    }\n    scheduleTimeout() {\n        const { action } = this;\n        if (action) {\n            this.action = action.schedule(this, this.waitFor);\n        }\n        else {\n            this.add(this.action = this.scheduler.schedule(TimeoutWithSubscriber.dispatchTimeout, this.waitFor, this));\n        }\n    }\n    _next(value) {\n        if (!this.absoluteTimeout) {\n            this.scheduleTimeout();\n        }\n        super._next(value);\n    }\n    _unsubscribe() {\n        this.action = undefined;\n        this.scheduler = null;\n        this.withObservable = null;\n    }\n}\n//# sourceMappingURL=timeoutWith.js.map"]},"metadata":{},"sourceType":"module"}