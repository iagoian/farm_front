{"ast":null,"code":"import _inherits from \"C:/dev-faculdade/Portifolio/Teste-Job-V2/Farm/farm_front/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"C:/dev-faculdade/Portifolio/Teste-Job-V2/Farm/farm_front/node_modules/@babel/runtime/helpers/esm/createSuper\";\nimport _classCallCheck from \"C:/dev-faculdade/Portifolio/Teste-Job-V2/Farm/farm_front/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:/dev-faculdade/Portifolio/Teste-Job-V2/Farm/farm_front/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport { isScheduler } from '../util/isScheduler';\nimport { isArray } from '../util/isArray';\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\nimport { fromArray } from './fromArray';\nvar NONE = {};\nexport function combineLatest() {\n  for (var _len = arguments.length, observables = new Array(_len), _key = 0; _key < _len; _key++) {\n    observables[_key] = arguments[_key];\n  }\n  var resultSelector = undefined;\n  var scheduler = undefined;\n  if (isScheduler(observables[observables.length - 1])) {\n    scheduler = observables.pop();\n  }\n  if (typeof observables[observables.length - 1] === 'function') {\n    resultSelector = observables.pop();\n  }\n  if (observables.length === 1 && isArray(observables[0])) {\n    observables = observables[0];\n  }\n  return fromArray(observables, scheduler).lift(new CombineLatestOperator(resultSelector));\n}\nexport var CombineLatestOperator = /*#__PURE__*/function () {\n  function CombineLatestOperator(resultSelector) {\n    _classCallCheck(this, CombineLatestOperator);\n    this.resultSelector = resultSelector;\n  }\n  _createClass(CombineLatestOperator, [{\n    key: \"call\",\n    value: function call(subscriber, source) {\n      return source.subscribe(new CombineLatestSubscriber(subscriber, this.resultSelector));\n    }\n  }]);\n  return CombineLatestOperator;\n}();\nexport var CombineLatestSubscriber = /*#__PURE__*/function (_OuterSubscriber) {\n  _inherits(CombineLatestSubscriber, _OuterSubscriber);\n  var _super = _createSuper(CombineLatestSubscriber);\n  function CombineLatestSubscriber(destination, resultSelector) {\n    var _this;\n    _classCallCheck(this, CombineLatestSubscriber);\n    _this = _super.call(this, destination);\n    _this.resultSelector = resultSelector;\n    _this.active = 0;\n    _this.values = [];\n    _this.observables = [];\n    return _this;\n  }\n  _createClass(CombineLatestSubscriber, [{\n    key: \"_next\",\n    value: function _next(observable) {\n      this.values.push(NONE);\n      this.observables.push(observable);\n    }\n  }, {\n    key: \"_complete\",\n    value: function _complete() {\n      var observables = this.observables;\n      var len = observables.length;\n      if (len === 0) {\n        this.destination.complete();\n      } else {\n        this.active = len;\n        this.toRespond = len;\n        for (var i = 0; i < len; i++) {\n          var observable = observables[i];\n          this.add(subscribeToResult(this, observable, undefined, i));\n        }\n      }\n    }\n  }, {\n    key: \"notifyComplete\",\n    value: function notifyComplete(unused) {\n      if ((this.active -= 1) === 0) {\n        this.destination.complete();\n      }\n    }\n  }, {\n    key: \"notifyNext\",\n    value: function notifyNext(_outerValue, innerValue, outerIndex) {\n      var values = this.values;\n      var oldVal = values[outerIndex];\n      var toRespond = !this.toRespond ? 0 : oldVal === NONE ? --this.toRespond : this.toRespond;\n      values[outerIndex] = innerValue;\n      if (toRespond === 0) {\n        if (this.resultSelector) {\n          this._tryResultSelector(values);\n        } else {\n          this.destination.next(values.slice());\n        }\n      }\n    }\n  }, {\n    key: \"_tryResultSelector\",\n    value: function _tryResultSelector(values) {\n      var result;\n      try {\n        result = this.resultSelector.apply(this, values);\n      } catch (err) {\n        this.destination.error(err);\n        return;\n      }\n      this.destination.next(result);\n    }\n  }]);\n  return CombineLatestSubscriber;\n}(OuterSubscriber);","map":{"version":3,"sources":["../../../src/internal/observable/combineLatest.ts"],"names":[],"mappings":"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","sourcesContent":["import { isScheduler } from '../util/isScheduler';\nimport { isArray } from '../util/isArray';\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\nimport { fromArray } from './fromArray';\nconst NONE = {};\nexport function combineLatest(...observables) {\n    let resultSelector = undefined;\n    let scheduler = undefined;\n    if (isScheduler(observables[observables.length - 1])) {\n        scheduler = observables.pop();\n    }\n    if (typeof observables[observables.length - 1] === 'function') {\n        resultSelector = observables.pop();\n    }\n    if (observables.length === 1 && isArray(observables[0])) {\n        observables = observables[0];\n    }\n    return fromArray(observables, scheduler).lift(new CombineLatestOperator(resultSelector));\n}\nexport class CombineLatestOperator {\n    constructor(resultSelector) {\n        this.resultSelector = resultSelector;\n    }\n    call(subscriber, source) {\n        return source.subscribe(new CombineLatestSubscriber(subscriber, this.resultSelector));\n    }\n}\nexport class CombineLatestSubscriber extends OuterSubscriber {\n    constructor(destination, resultSelector) {\n        super(destination);\n        this.resultSelector = resultSelector;\n        this.active = 0;\n        this.values = [];\n        this.observables = [];\n    }\n    _next(observable) {\n        this.values.push(NONE);\n        this.observables.push(observable);\n    }\n    _complete() {\n        const observables = this.observables;\n        const len = observables.length;\n        if (len === 0) {\n            this.destination.complete();\n        }\n        else {\n            this.active = len;\n            this.toRespond = len;\n            for (let i = 0; i < len; i++) {\n                const observable = observables[i];\n                this.add(subscribeToResult(this, observable, undefined, i));\n            }\n        }\n    }\n    notifyComplete(unused) {\n        if ((this.active -= 1) === 0) {\n            this.destination.complete();\n        }\n    }\n    notifyNext(_outerValue, innerValue, outerIndex) {\n        const values = this.values;\n        const oldVal = values[outerIndex];\n        const toRespond = !this.toRespond\n            ? 0\n            : oldVal === NONE ? --this.toRespond : this.toRespond;\n        values[outerIndex] = innerValue;\n        if (toRespond === 0) {\n            if (this.resultSelector) {\n                this._tryResultSelector(values);\n            }\n            else {\n                this.destination.next(values.slice());\n            }\n        }\n    }\n    _tryResultSelector(values) {\n        let result;\n        try {\n            result = this.resultSelector.apply(this, values);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return;\n        }\n        this.destination.next(result);\n    }\n}\n//# sourceMappingURL=combineLatest.js.map"]},"metadata":{},"sourceType":"module"}